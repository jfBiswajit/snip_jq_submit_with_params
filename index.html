<!DOCTYPE html>
<html>

<head>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"
    integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
</head>

<body>

  <h2>HTML Forms</h2>

  <form id="my-form">
    <label for="fname">First name:</label><br>
    <input type="text" id="fname" name="fname" value="John"><br>
    <label for="lname">Last name:</label><br>
    <input type="text" id="lname" name="lname" value="Doe"><br><br>
    <input type="submit" value="Submit">
  </form>
  <script>
    $('#my-form').submit(function (e) {
      e.preventDefault();
      const formData = $(this).serialize();

      $.ajax({
        type: 'POST',
        url: '{{ route("test") }}',
        dataType: 'json',
        data: `${formData}&_token={{ csrf_token() }}`,

        error() {
          // server errror
        },

        success(response) {
          console.log(response);
        },
      });
    });

  </script>
</body>

</html>
